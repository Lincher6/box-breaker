{"version":3,"sources":["assets/fonts/digital-7.ttf","globalStyles.js","lib/constants.js","components/game/GameField/styles.js","lib/utils.js","store/game/types.js","store/users/types.js","api/users.js","api/game.js","store/app/types.js","store/app/actions.js","store/app/selectors.js","store/app/reducer.js","store/users/actions.js","store/users/selectors.js","store/users/reducer.js","store/game/actions.js","store/game/selectors.js","store/game/reducer.js","assets/shot.wav","assets/miss.wav","assets/timeDown.wav","assets/armorHit.wav","assets/popup.wav","lib/soundManager.js","assets/box.png","components/elements/Box/styles.js","components/elements/Box/index.js","assets/armoredBox.png","components/elements/ArmoredBlock/styles.js","components/elements/ArmoredBlock/index.js","components/elements/TimeEater/styles.js","components/elements/TimeEater/index.js","components/elements/UFO/styles.js","assets/UFO.png","components/elements/UFO/index.js","components/game/GameField/utils.js","components/game/GameField/index.js","components/game/GameOverDialog/index.js","components/game/GameUI/styles.js","components/game/GameUI/index.js","components/game/ResultsTable/styles.js","components/game/ResultsTable/index.js","components/game/Timer/styles.js","components/game/Timer/index.js","components/game/Score/styles.js","components/game/Score/index.js","components/common/LoadingOverlay/styles.js","components/common/LoadingOverlay/index.js","lib/hooks/useToken.js","components/common/AuthRoute/index.js","components/common/AdminRoute/index.js","components/common/ProtectedRoute/index.js","components/common/Component404/styles.js","assets/404.png","components/common/Component404/index.js","components/common/Title/styles.js","assets/logo.png","components/common/Title/index.js","components/common/Rules/styles.js","components/common/Rules/index.js","components/users/commonStyles.js","components/users/LoginForm/index.js","components/users/RegistrationFrom/index.js","components/users/UserCard/styles.js","components/users/UserCard/index.js","components/users/SearchForm/styles.js","components/users/SearchForm/index.js","components/users/UsersTable/styles.js","components/users/UsersTable/RoleSelect.js","components/users/UsersTable/Category.js","components/users/UsersTable/index.js","components/users/Pagination/styles.js","components/users/Pagination/index.js","containers/Sidebar/styles.js","containers/Sidebar/index.js","containers/GameWindow/styles.js","containers/GameWindow/index.js","containers/Layout/styles.js","containers/Layout/index.js","pages/Game/index.js","pages/Page404/index.js","pages/Login/index.js","pages/Registration/index.js","pages/Admin/index.js","App.js","lib/hooks/useError.js","lib/theme.js","store/store.js","index.js"],"names":["GlobalStyle","createGlobalStyle","digitalClockFont","Span","styled","span","color","weight","Column","BOX_SIZE","PRIMARY","SUB","SECONDARY","MINUTE","Container","div","active","isPaused","PauseScreen","PauseText","wait","delay","Promise","resolve","setTimeout","createError","error","type","message","response","data","getOffset","size","rawOffset","Math","abs","floor","random","showPopUp","event","$field","text","$target","target","$popUp","document","createElement","style","top","offsetTop","left","offsetLeft","offsetWidth","classList","add","innerText","appendChild","removeChild","ADD_ELEMENT","REMOVE_ELEMENT","ADD_SCORE","START_GAME","PAUSE_GAME","COUNTDOWN","CLOSE_DIALOG","SUBTRACT_TIME","SET_TIME","SET_FIELD","SET_RESULTS","CLEAR_GAME","SET_USER","SET_USERS","UPDATE_USER","CLEAR_USERS","SET_PAGE","SET_SEARCH","SET_SORT","usersApi","login","a","password","axios","post","errors","register","name","confirmPassword","getUser","get","updateUser","key","value","patch","getUsers","page","pageSize","search","sortParams","hiScore","params","searchString","JSON","stringify","gameApi","getResults","saveResult","result","SET_LOADING","SET_INITIALIZE","SET_ERROR","setLoading","loading","payload","setError","initializeApp","dispatch","gameActions","usersActions","initialized","state","app","initialState","setUser","user","setUsers","users","totalUserCount","properties","clearUsers","changeRole","getState","appActions","newUsers","map","el","_id","setPage","setSearch","setSort","logout","history","localStorage","removeItem","defaults","headers","common","push","addElement","element","addScore","score","removeElement","id","startGame","pauseGame","countdown","closeDialog","subtractTime","amount","setTime","time","setField","setResults","results","clearGame","submitDialog","game","elements","isGameOver","gameStatus","Date","soundManager","shoot","Audio","shootSound","miss","missSound","timeDown","timeDownSound","armorHit","armorHitSound","popup","popupSound","playShoot","play","this","playMiss","playTimeDown","playArmorHit","playPopup","audio","currentTime","preload","volume","Box","React","memo","props","data-type","data-id","hp","INITIAL_ARMOR","armoredBoxImg","ArmoredBlock","useState","setHp","useRef","ref","onClick","newHp","offset","current","transform","TimeEater","useSelector","gameSelectors","useDispatch","useCallback","useEffect","remove","onAnimationEnd","width","window","innerWidth","img","UFO","draggable","src","ufoImg","getComponent","selector","Component","elementsToCreate","points","checkPosition","positions","some","position","nextId","prefix","getIdGenerator","GameField","fieldRef","timer","createElements","i","clientHeight","clientWidth","clearTimeout","setInterval","focus","onMouseDown","dataset","find","$flash","clientY","clientX","flash","GameOverDialog","usersSelectors","Dialog","open","maxWidth","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","e","preventDefault","variant","Controls","Info","GameUI","handleKeyDown","code","addEventListener","removeEventListener","disabled","Table","Title","h1","SubText","h3","Record","Name","Score","ResultsTable","all","CircularProgress","length","index","input","Timer","setValue","minutes","getMinutes","seconds","getSeconds","clearInterval","validateInput","match","split","display","alignItems","onChange","onBlur","onKeyDown","blur","Counter","Logo","LoadingOverlay","show","setShow","appSelectors","animation","useToken","token","getItem","jwt_decode","expires","now","AuthRoute","to","AdminRoute","role","ProtectedRoute","Content","Img","H1","H2","h2","Component404","image404","alt","href","rel","logo","Toggle","Rules","setOpen","Form","form","LoginForm","useHistory","useFormik","initialValues","onSubmit","values","setErrors","setItem","handleSubmit","handleChange","handleBlur","touched","TextField","label","required","fullWidth","helperText","autoComplete","className","RegistrationForm","UserCard","Typography","button","SearchForm","table","Header","thead","Body","tbody","TR","tr","currentUser","TD","td","sortable","Select","select","admin","Loader","Back","RoleSelect","isCurrentUser","isAdmin","defaultValue","Category","descending","setDescending","UsersTable","gamesPlayed","userIp","Arrow","Pagination","lastPage","ceil","changePage","currentTarget","Sidebar","children","toggle","GameWindow","Layout","GamePage","Page404","LoginPage","component","marginLeft","RegistrationPage","AdminPage","App","errorModal","align","useError","useLayoutEffect","init","exact","path","theme","createMuiTheme","palette","primary","main","secondary","action","disabledBackground","background","paper","overrides","MuiButton","root","fontWeight","margin","fontFamily","fontSize","minWidth","opacity","padding","sizeSmall","MuiTextField","marginBottom","MuiDialogTitle","textAlign","rootReducer","combineReducers","filter","box","store","createStore","applyMiddleware","thunk","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.efb2b695.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/digital-7.ae951a18.ttf\";","import styled from 'styled-components/macro';\r\nimport { createGlobalStyle } from 'styled-components';\r\nimport digitalClockFont from './assets/fonts/digital-7.ttf';\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  @font-face {\r\n    font-family: 'DigitalClock';\r\n    font-display: block;\r\n    src: local('DigitalClock'), url(${digitalClockFont}) format('truetype');\r\n  }\r\n    \r\n  * {\r\n    padding: 0;\r\n    margin: 0;\r\n    box-sizing: border-box;\r\n    -webkit-touch-callout: none;\r\n    -webkit-user-select: none; \r\n    -moz-user-select: none; \r\n    -ms-user-select: none; \r\n    user-select: none;\r\n  }\r\n\r\n  body {\r\n    background-color: #182533;\r\n    color: white;\r\n    overflow: hidden;\r\n    margin: 0;\r\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\r\n      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\r\n      sans-serif;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n  }\r\n  \r\n  @media(max-width: 1000px) {\r\n    html {\r\n      font-size: 12px;\r\n    }\r\n  }\r\n    \r\n  code {\r\n    font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\r\n      monospace;\r\n  }\r\n \r\n  \r\n  a {\r\n    text-decoration: none;\r\n    color: initial;\r\n  }\r\n  \r\n  i {\r\n  margin: 20px;\r\n  }\r\n    \r\n  .flash {\r\n    position: fixed;\r\n    width: 50px;\r\n    height: 50px;\r\n    border-radius: 50%;\r\n    border: 3px solid white;\r\n    opacity: 0;\r\n    pointer-events: none;\r\n    animation: shot .6s;\r\n    z-index: 2;\r\n  }\r\n  \r\n  .popUp {\r\n    opacity: 0;\r\n    position: absolute;\r\n    color: orange;\r\n    font-size: 2em;\r\n    animation: pointsPopUp 1.5s;\r\n  }\r\n  \r\n  .loader {\r\n    position: absolute;\r\n  }\r\n  \r\n  .disabled {\r\n    pointer-events: none;\r\n    opacity: .4;\r\n  }\r\n  \r\n  @keyframes pointsPopUp {\r\n    0%{transform: translate(0, 0); opacity: 1; display: block}\r\n    100%{transform: translate(0, -20px); opacity: 0; display: none}\r\n  }\r\n    \r\n  @keyframes shot {\r\n    0% {transform: scale(0, 0); opacity: 1}\r\n    100% {transform: scale(1, 1); opacity: 0}\r\n  }\r\n  \r\n  @keyframes fadeIn {\r\n    0% {opacity: 0;}\r\n    100% {opacity: 1;}\r\n  }\r\n\r\n  @keyframes fadeOut {\r\n    0% {opacity: 1;}\r\n    100% {opacity: 0;}\r\n  }\r\n  \r\n  @keyframes appear {\r\n    0% {opacity: 0; transform: translate(0, 30px)}\r\n    100% {opacity: 1; transform: translate(0, 0)}\r\n  }\r\n`;\r\n\r\nexport const Span = styled.span`\r\n  color: ${({ color }) => color};\r\n  margin: 0 5px;\r\n  font-weight: ${({ weight }) => weight};\r\n`\r\n\r\nexport const Column = styled.span`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nexport default GlobalStyle;","export const GITHUB = \"https://github.com/Lincher6/box-breaker\";\r\nexport const BOX_SIZE = 35;\r\nexport const PRIMARY = '#00e5ff';\r\nexport const SUB = '#2b5278';\r\nexport const SECONDARY = '#ff6000';\r\nexport const BACKGROUND = '#182533';\r\nexport const MINUTE = 60 * 1000;\r\nexport const INITIAL_ARMOR = 3;\r\nexport const ARMOR_SIZE = 3;","import styled from 'styled-components/macro';\r\nimport {PRIMARY, SECONDARY, SUB} from 'lib/constants';\r\n\r\nexport const Container = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  height: 100%;\r\n  flex-grow: 1;\r\n  border: 1px solid ${SUB};\r\n  cursor: crosshair;\r\n  overflow: hidden;\r\n  border-radius: 5px;\r\n  pointer-events: ${({ active }) => active ? 'auto' : 'none'};\r\n  background-color: #0e1621;\r\n  opacity: ${({isPaused}) => isPaused ? .5 : 1};\r\n  \r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`;\r\n\r\nexport const PauseScreen = styled.div`\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  content: 'PAUSE';\r\n`\r\n\r\nexport const PauseText = styled.span`\r\n  font-size: 3rem;\r\n  font-family: sans-serif;\r\n  font-weight: bold;\r\n  color: ${PRIMARY};\r\n  text-shadow: -3px 3px 0 ${SECONDARY};\r\n  animation: pause 2s linear infinite;\r\n  \r\n  @keyframes pause {\r\n    0%{filter: hue-rotate(0deg); transform: rotate(0)}\r\n    25%{transform: rotate(5deg)}\r\n    50%{transform: rotate(0deg)}\r\n    75%{transform: rotate(-5deg)}\r\n    100%{filter: hue-rotate(360deg); transform: rotate(0)}\r\n  }\r\n  \r\n`\r\n","import {BOX_SIZE} from \"./constants\";\r\n\r\nexport const wait = delay => {\r\n    return new Promise(resolve => {\r\n        setTimeout(() => {\r\n            resolve('finished');\r\n        }, [delay * 1000])\r\n    })\r\n}\r\n\r\nexport const createError = error => {\r\n    return {\r\n        error: {\r\n            type: error.message,\r\n            message: error.response?.data?.message || 'unknown error'\r\n        }\r\n    }\r\n}\r\n\r\nexport const getIdGenerator = (prefix = \"id-\") => {\r\n    let id = 0;\r\n\r\n    return () => {\r\n        return `${prefix}${id++}`\r\n    };\r\n};\r\n\r\nexport const getOffset = size => {\r\n    const rawOffset = Math.abs(Math.floor(Math.random() * size) - BOX_SIZE);\r\n    return rawOffset - (rawOffset % BOX_SIZE);\r\n};\r\n\r\nexport const debounce = (fn, delay) => {\r\n    let timer;\r\n\r\n    return (...args) => {\r\n        clearTimeout(timer);\r\n        timer = setTimeout(() => {\r\n            fn(...args);\r\n        }, delay);\r\n    };\r\n};\r\n\r\nexport const showPopUp = ({ event, $field, text, color = 'red' }) => {\r\n    const $target = event.target;\r\n    const $popUp = document.createElement('div');\r\n    $popUp.style.top = $target.offsetTop + \"px\";\r\n    $popUp.style.left = $target.offsetLeft + ($target.offsetWidth / 2)+ \"px\";\r\n    $popUp.style.color = color;\r\n    $popUp.classList.add(\"popUp\");\r\n    $popUp.innerText = text;\r\n    $field.appendChild($popUp);\r\n\r\n    setTimeout(() => {\r\n        $field.removeChild($popUp);\r\n    }, 3000);\r\n};\r\n\r\nexport const random = maxValue => {\r\n    return Math.floor(Math.random() * maxValue);\r\n}","export const ADD_ELEMENT = \"ADD_ELEMENT\";\r\nexport const REMOVE_ELEMENT = \"REMOVE_ELEMENT\";\r\nexport const ADD_SCORE = \"ADD_SCORE\";\r\nexport const START_GAME = \"START_GAME\";\r\nexport const PAUSE_GAME = \"PAUSE_GAME\";\r\nexport const COUNTDOWN = \"COUNTDOWN\";\r\nexport const CLOSE_DIALOG = \"CLOSE_DIALOG\";\r\nexport const SUBTRACT_TIME = \"SUBTRACT_TIME\";\r\nexport const SET_TIME = \"SET_TIME\";\r\nexport const SET_FIELD = \"SET_FIELD\";\r\nexport const SET_RESULTS = \"SET_RESULTS\";\r\nexport const CLEAR_GAME = \"CLEAR_GAME\";","export const SET_USER = \"SET_USER\";\r\nexport const SET_USERS = \"SET_USERS\";\r\nexport const UPDATE_USER = \"UPDATE_USER\";\r\nexport const CLEAR_USERS = \"CLEAR_USERS\";\r\nexport const SET_PAGE = \"SET_PAGE\";\r\nexport const SET_SEARCH = \"SET_SEARCH\";\r\nexport const SET_SORT = \"SET_SORT\";","import axios from 'axios';\r\nimport { createError } from 'lib/utils';\r\n\r\nexport const usersApi = {\r\n    login: async ({ login = '', password = '' }) => {\r\n        try {\r\n            const response = await axios.post('/login', { login, password});\r\n            return response.data;\r\n        } catch ({ response }) {\r\n            return { errors: response.data };\r\n        }\r\n\r\n    },\r\n\r\n    register: async ({ login = '', name = '', password = '', confirmPassword = '' }) => {\r\n        try {\r\n            const response = await axios.post('/registration', { login, name, password, confirmPassword });\r\n            return response.data;\r\n        } catch ({ response }) {\r\n            return { errors: response.data };\r\n        }\r\n    },\r\n\r\n    getUser: async () => {\r\n        try {\r\n            const response = await axios.get('/user');\r\n            return response.data;\r\n        } catch (error) {\r\n            return createError(error);\r\n        }\r\n    },\r\n\r\n    updateUser: async ({ login, key, value }) => {\r\n        try {\r\n            const response = await axios.patch('/user', { login, key, value });\r\n            return response.data;\r\n        } catch (error) {\r\n            return createError(error);\r\n        }\r\n    },\r\n\r\n    getUsers: async ({ page = 1, pageSize = 10, search = '', sortParams = { hiScore: 1 } }) => {\r\n        try {\r\n            const response = await axios.get('/users', {\r\n                params: {\r\n                    page,\r\n                    pageSize,\r\n                    searchString: search,\r\n                    sortParams: JSON.stringify(sortParams)\r\n                }\r\n            });\r\n            return response.data;\r\n        } catch (error) {\r\n            return createError(error);\r\n        }\r\n    }\r\n}","import axios from 'axios';\r\nimport { createError } from 'lib/utils';\r\n\r\nexport const gameApi = {\r\n    getResults: async () => {\r\n        try {\r\n            const response = await axios.get('/results');\r\n            return response.data;\r\n        } catch (error) {\r\n            return createError(error);\r\n        }\r\n\r\n    },\r\n    saveResult: async (result) => {\r\n        try {\r\n            const response = await axios.post('/results', result);\r\n            return response.data;\r\n        } catch (error) {\r\n            return createError(error);\r\n        }\r\n\r\n    },\r\n}","export const SET_LOADING = \"SET_LOADING\";\r\nexport const SET_INITIALIZE = \"SET_LOADING\";\r\nexport const SET_ERROR = \"SET_ERROR\";","import { usersActions } from \"../users\";\r\nimport {SET_ERROR, SET_LOADING} from \"./types\";\r\nimport {gameActions} from '../game';\r\n\r\nexport const setLoading = loading => ({\r\n    type: SET_LOADING,\r\n    payload: loading\r\n});\r\n\r\nexport const setError = error => ({\r\n    type: SET_ERROR,\r\n    payload: error\r\n});\r\n\r\nexport const initializeApp = () => async dispatch => {\r\n    dispatch(setLoading(true));\r\n    await dispatch(gameActions.getResults());\r\n    await dispatch(usersActions.getUser());\r\n    dispatch(setLoading(false));\r\n};","export const initialized = state => state.app.initialized;\r\nexport const loading = state => state.app.loading;\r\nexport const error = state => state.app.error;","import {SET_LOADING, SET_INITIALIZE, SET_ERROR} from \"./types\";\r\n\r\n\r\nconst initialState = {\r\n    initialized: false,\r\n    loading: false,\r\n    error: false\r\n};\r\n\r\nexport const reducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_LOADING: {\r\n            return {\r\n                ...state,\r\n                loading: action.payload\r\n            }\r\n        }\r\n\r\n        case SET_INITIALIZE: {\r\n            return {\r\n                ...state,\r\n                user: action.payload\r\n            }\r\n        }\r\n\r\n        case SET_ERROR: {\r\n            return {\r\n                ...state,\r\n                error: action.payload\r\n            }\r\n        }\r\n\r\n        default: return state;\r\n    }\r\n}","import {CLEAR_USERS, SET_PAGE, SET_SEARCH, SET_SORT, SET_USER, SET_USERS, UPDATE_USER} from \"./types\";\r\nimport { usersApi } from 'api';\r\nimport { usersActions } from './index';\r\nimport axios from 'axios';\r\nimport { appActions } from '../app';\r\n\r\nexport const setUser = user => ({\r\n    type: SET_USER,\r\n    payload: user\r\n});\r\n\r\nexport const setUsers = (users, totalUserCount) => ({\r\n    type: SET_USERS,\r\n    payload: { users, totalUserCount }\r\n});\r\n\r\nexport const updateUser = properties => ({\r\n    type: UPDATE_USER,\r\n    payload: properties\r\n});\r\n\r\nexport const clearUsers = () => ({\r\n    type: CLEAR_USERS,\r\n});\r\n\r\nexport const changeRole = (data) => async (dispatch, getState) => {\r\n    const { users, totalUserCount } = getState().users;\r\n    const { user, error } = await usersApi.updateUser(data);\r\n    if (error) {\r\n        dispatch(appActions.setError(error));\r\n        return;\r\n    }\r\n    const newUsers = users.map(el => el._id === user._id ? user : el);\r\n    dispatch(setUsers(newUsers, totalUserCount));\r\n}\r\n\r\nexport const setPage = page => ({\r\n    type: SET_PAGE,\r\n    payload: page\r\n});\r\n\r\nexport const setSearch = search => ({\r\n    type: SET_SEARCH,\r\n    payload: search\r\n});\r\n\r\nexport const setSort = sortParams => ({\r\n    type: SET_SORT,\r\n    payload: sortParams\r\n});\r\n\r\nexport const getUsers = () => async (dispatch, getState) => {\r\n    const { pageSize, search, sortParams, page } = getState().users;\r\n    const { users, totalUserCount, error } = await usersApi.getUsers({ page, pageSize, search, sortParams });\r\n    if (error) {\r\n        dispatch(appActions.setError(error));\r\n        return;\r\n    }\r\n    dispatch(setUsers(users, totalUserCount));\r\n}\r\n\r\nexport const getUser = () => async dispatch => {\r\n    const { user, error } = await usersApi.getUser();\r\n    if (error) {\r\n        dispatch(appActions.setError(error));\r\n        return;\r\n    }\r\n    dispatch(setUser(user));\r\n}\r\n\r\nexport const logout = history => dispatch =>{\r\n    localStorage.removeItem('token');\r\n    delete axios.defaults.headers.common['Authorization'];\r\n    dispatch(usersActions.setUser({}));\r\n    history.push('/login')\r\n}","export const users = state => state.users.users;\r\nexport const totalUserCount = state => state.users.totalUserCount;\r\nexport const user = state => state.users.user;\r\nexport const page = state => state.users.page;\r\nexport const pageSize = state => state.users.pageSize;\r\nexport const search = state => state.users.search;\r\nexport const sortParams = state => state.users.sortParams;","import {CLEAR_USERS, SET_PAGE, SET_SEARCH, SET_SORT, SET_USER, SET_USERS, UPDATE_USER} from \"./types\";\r\n\r\nconst initialState = {\r\n    user: {},\r\n    users: [],\r\n    page: 1,\r\n    pageSize: 1,\r\n    totalUserCount: 1,\r\n    search: '',\r\n    sortParams: { hiScore: 1 }\r\n};\r\n\r\nexport const reducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER: {\r\n            return {\r\n                ...state,\r\n                user: action.payload\r\n            }\r\n        }\r\n        case SET_USERS: {\r\n            return {\r\n                ...state,\r\n                users: action.payload.users,\r\n                totalUserCount: action.payload.totalUserCount\r\n            }\r\n        }\r\n\r\n\r\n        case UPDATE_USER: {\r\n            return {\r\n                ...state,\r\n                user: { ...state.user, ...action.payload }\r\n            }\r\n        }\r\n\r\n        case SET_PAGE: {\r\n            return {\r\n                ...state,\r\n                page: action.payload\r\n            }\r\n        }\r\n\r\n        case SET_SEARCH: {\r\n            return {\r\n                ...state,\r\n                page: 1,\r\n                search: action.payload\r\n            }\r\n        }\r\n\r\n        case SET_SORT: {\r\n            return {\r\n                ...state,\r\n                page: 1,\r\n                sortParams: action.payload\r\n            }\r\n        }\r\n\r\n        case CLEAR_USERS: {\r\n            return {\r\n                ...state,\r\n                users: [],\r\n                page: 1,\r\n                pageSize: 1,\r\n                totalUserCount: 1,\r\n                search: '',\r\n                sortParams: { hiScore: 1 }\r\n            }\r\n        }\r\n\r\n        default: return state;\r\n    }\r\n}","import {\r\n    ADD_ELEMENT,\r\n    ADD_SCORE, CLEAR_GAME,\r\n    CLOSE_DIALOG,\r\n    COUNTDOWN,\r\n    PAUSE_GAME, REMOVE_ELEMENT,\r\n    SET_FIELD,\r\n    SET_RESULTS,\r\n    SET_TIME,\r\n    START_GAME,\r\n    SUBTRACT_TIME\r\n} from \"./types\";\r\nimport { usersActions } from \"../users\";\r\nimport {gameApi} from '../../api';\r\nimport {appActions} from '../app';\r\n\r\nexport const addElement = element => ({\r\n    type: ADD_ELEMENT,\r\n    payload: element\r\n});\r\n\r\nexport const addScore = score => ({\r\n    type: ADD_SCORE,\r\n    payload: score\r\n});\r\n\r\nexport const removeElement = id => ({\r\n    type: REMOVE_ELEMENT,\r\n    payload: id\r\n});\r\n\r\nexport const startGame = () => ({\r\n    type: START_GAME\r\n});\r\n\r\nexport const pauseGame = () => ({\r\n    type: PAUSE_GAME\r\n});\r\n\r\nexport const countdown = () => ({\r\n    type: COUNTDOWN\r\n});\r\n\r\nexport const closeDialog = () => ({\r\n    type: CLOSE_DIALOG\r\n});\r\n\r\nexport const subtractTime = amount => ({\r\n    type: SUBTRACT_TIME,\r\n    payload: amount\r\n});\r\n\r\nexport const setTime = time => ({\r\n    type: SET_TIME,\r\n    payload: time\r\n});\r\n\r\nexport const setField = $field => ({\r\n    type: SET_FIELD,\r\n    payload: $field\r\n});\r\n\r\nexport const setResults = results => ({\r\n    type: SET_RESULTS,\r\n    payload: results\r\n});\r\n\r\nexport const clearGame = () => ({\r\n    type: CLEAR_GAME,\r\n});\r\n\r\nexport const submitDialog = result => async (dispatch) => {\r\n    const { results, hiScore, error } = await gameApi.saveResult(result);\r\n    if (error) {\r\n        dispatch(appActions.setError(error));\r\n        return;\r\n    }\r\n    dispatch(usersActions.updateUser({ hiScore }));\r\n    dispatch(setResults(results));\r\n\r\n};\r\n\r\nexport const getResults = () => async dispatch => {\r\n    const { results, error } = await gameApi.getResults();\r\n    if (error) {\r\n        dispatch(appActions.setError(error));\r\n        return;\r\n    }\r\n    dispatch(setResults(results));\r\n};","export const $field = state => state.game.$field;\r\nexport const elements = state => state.game.elements;\r\nexport const score = state => state.game.score;\r\nexport const time = state => state.game.time;\r\nexport const results = state => state.game.results;\r\nexport const isPaused = state => state.game.isPaused;\r\nexport const isGameOver = state => state.game.isGameOver;\r\nexport const gameStatus = state => state.game.gameStatus;","import {MINUTE} from \"lib/constants\";\r\nimport {\r\n    ADD_ELEMENT,\r\n    ADD_SCORE, CLEAR_GAME,\r\n    CLOSE_DIALOG,\r\n    COUNTDOWN,\r\n    PAUSE_GAME, REMOVE_ELEMENT,\r\n    SET_FIELD,\r\n    SET_RESULTS,\r\n    SET_TIME,\r\n    START_GAME,\r\n    SUBTRACT_TIME\r\n} from \"./types\";\r\n\r\nconst initialState = {\r\n    $field: null,\r\n    score: 0,\r\n    results: [],\r\n    elements: [],\r\n    time: new Date(MINUTE),\r\n    gameStatus: {active: false},\r\n    isGameOver: false,\r\n    isPaused: true\r\n};\r\n\r\nexport const reducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_ELEMENT: {\r\n            return {\r\n                ...state,\r\n                elements: [...state.elements, action.payload]\r\n            };\r\n        }\r\n\r\n        case ADD_SCORE: return {\r\n            ...state,\r\n            score: state.score + action.payload\r\n        };\r\n\r\n        case REMOVE_ELEMENT: {\r\n            return {\r\n                ...state,\r\n                elements: state.elements.filter(box => box.id !== action.payload)\r\n            };\r\n        }\r\n\r\n        case START_GAME: return {\r\n            ...state,\r\n            score: 0,\r\n            elements: [],\r\n            time: new Date(MINUTE),\r\n            gameStatus: {active: true},\r\n            isPaused: false,\r\n            isGameOver: false\r\n        };\r\n\r\n        case PAUSE_GAME: return {\r\n            ...state,\r\n            isPaused: !state.isPaused\r\n        };\r\n\r\n        case COUNTDOWN: {\r\n            if (state.time > 0) {\r\n                return {\r\n                    ...state,\r\n                    time: new Date(state.time - 1000)\r\n                };\r\n            }\r\n            return {\r\n                ...state,\r\n                gameStatus: {active: false},\r\n                isGameOver: true,\r\n                isPaused: true\r\n            };\r\n        }\r\n\r\n        case CLOSE_DIALOG: return {\r\n            ...state,\r\n            isGameOver: false,\r\n        };\r\n\r\n        case SUBTRACT_TIME: {\r\n            const amount = state.time - action.payload\r\n            return {\r\n                ...state,\r\n                time: new Date(amount > 0 ? amount : 0)\r\n            };\r\n        }\r\n\r\n        case SET_TIME: {\r\n            return {\r\n                ...state,\r\n                time: action.payload\r\n            };\r\n        }\r\n\r\n        case SET_FIELD: {\r\n            return { ...state, $field: action.payload};\r\n        }\r\n\r\n        case SET_RESULTS: {\r\n            return {\r\n                ...state,\r\n                results: action.payload,\r\n            };\r\n        }\r\n\r\n        case CLEAR_GAME: {\r\n            return initialState;\r\n        }\r\n\r\n        default: return state;\r\n    }\r\n}","export default __webpack_public_path__ + \"static/media/shot.ee66b61c.wav\";","export default __webpack_public_path__ + \"static/media/miss.30a7cf16.wav\";","export default __webpack_public_path__ + \"static/media/timeDown.7e040914.wav\";","export default __webpack_public_path__ + \"static/media/armorHit.e10f8304.wav\";","export default __webpack_public_path__ + \"static/media/popup.959bcf65.wav\";","import shootSound from 'assets/shot.wav';\r\nimport missSound from 'assets/miss.wav';\r\nimport timeDownSound from 'assets/timeDown.wav';\r\nimport armorHitSound from 'assets/armorHit.wav';\r\nimport popupSound from 'assets/popup.wav';\r\n\r\nexport const soundManager = {\r\n    shoot: new Audio(shootSound),\r\n    miss: new Audio(missSound),\r\n    timeDown: new Audio(timeDownSound),\r\n    armorHit: new Audio(armorHitSound),\r\n    popup: new Audio(popupSound),\r\n\r\n    playShoot: function() {\r\n        play(this.shoot);\r\n    },\r\n\r\n    playMiss: function() {\r\n        play(this.miss);\r\n    },\r\n\r\n    playTimeDown: function () {\r\n        play(this.timeDown);\r\n    },\r\n\r\n    playArmorHit: function () {\r\n        play(this.armorHit);\r\n    },\r\n\r\n    playPopup: function () {\r\n        play(this.popup);\r\n    }\r\n\r\n}\r\n\r\nfunction play(audio) {\r\n    audio.currentTime = 0;\r\n    audio.play();\r\n}\r\n\r\nsoundManager.shoot.preload = 'auto';\r\nsoundManager.shoot.volume = .3;\r\nsoundManager.miss.volume = .4;\r\nsoundManager.armorHit.volume = .5;\r\nsoundManager.timeDown.volume = .5;\r\nsoundManager.popup.volume = .5;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFyGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDIgNzkuMTY0NDYwLCAyMDIwLzA1LzEyLTE2OjA0OjE3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMiAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTExLTE2VDIxOjE3OjE2KzAyOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTExLTE2VDIxOjE3OjE2KzAyOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0xMS0xNlQyMToxNzoxNiswMjowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxOWZkN2M5OC1hYzA3LTkyNDQtYmUyMC1mYTc2MDk3NzhlYTIiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDowYWRkYjhlNy1mMWI5LTY0NDMtODFkNS0y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\"","import styled from 'styled-components/macro';\r\nimport boxImg from 'assets/box.png';\r\nimport { BOX_SIZE } from 'lib/constants';\r\n\r\nexport const Container = styled.div`\r\n  position: absolute;\r\n  width: ${BOX_SIZE + 'px'};\r\n  height: ${BOX_SIZE + 'px'};\r\n  border-radius: 4px;\r\n  top: ${({ top }) => top + 'px'};\r\n  left: ${({ left }) => left + 'px'};\r\n  background: url(${boxImg});\r\n  filter: hue-rotate(${() => Math.floor(Math.random() * 360) + 'deg' });\r\n  background-size: contain;\r\n  animation: popUp .5s;\r\n  \r\n  @keyframes popUp {\r\n    0% {transform: scale(0, 0)}\r\n    50% {transform: scale(1.1, 1.1)}\r\n    100% {transform: scale(1, 1)}\r\n  }\r\n`;","import React from 'react';\r\nimport { Container } from './styles';\r\n\r\nexport const Box = React.memo(({ id, ...props }) => {\r\n    return (\r\n        <Container\r\n            { ...props }\r\n            data-type='boxes'\r\n            data-id={id}\r\n        />\r\n    );\r\n});","export default __webpack_public_path__ + \"static/media/armoredBox.fd93198c.png\";","import styled from 'styled-components/macro';\r\nimport armoredBoxImg from 'assets/armoredBox.png';\r\nimport { INITIAL_ARMOR, ARMOR_SIZE, BOX_SIZE } from 'lib/constants';\r\n\r\nexport const Container = styled.div`\r\n  position: absolute;\r\n  box-sizing: content-box;\r\n  border: ${({ hp }) => (hp * ARMOR_SIZE) + 'px ridge silver'};\r\n  width: ${() => BOX_SIZE + 'px'};\r\n  height: ${() => BOX_SIZE + 'px'};\r\n  border-radius: 4px;\r\n  top: ${({ top }) => (top - INITIAL_ARMOR * ARMOR_SIZE) + 'px'};\r\n  left: ${({ left }) => (left - INITIAL_ARMOR * ARMOR_SIZE) + 'px'};\r\n  background: url(${armoredBoxImg});\r\n  background-size: contain;\r\n  z-index: 1;\r\n  animation: popUp .5s;\r\n  \r\n  @keyframes popUp {\r\n    0% {transform: scale(0, 0)}\r\n    50% {transform: scale(1.1, 1.1)}\r\n    100% {transform: scale(1, 1)}\r\n  }\r\n`;","import React, { useRef, useState } from 'react';\r\nimport { Container } from './styles';\r\nimport { soundManager } from 'lib/soundManager';\r\nimport { INITIAL_ARMOR, ARMOR_SIZE } from 'lib/constants';\r\n\r\nexport const ArmoredBlock = React.memo(({ id, ...props }) => {\r\n    const [hp, setHp] = useState(INITIAL_ARMOR);\r\n\r\n    const element = useRef();\r\n\r\n    const handleClick = () => {\r\n        if (hp > 0) {\r\n            const newHp = hp - 1;\r\n            soundManager.playArmorHit();\r\n            setHp(newHp);\r\n            const offset = (INITIAL_ARMOR - newHp) * ARMOR_SIZE;\r\n            element.current.style.transform = `translate(${offset}px, ${offset}px)`;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Container\r\n            ref={element}\r\n            hp={hp}\r\n            {...props}\r\n            onClick={handleClick}\r\n            data-type={hp === 0 ? 'ArmoredBox' : ''}\r\n            data-id={id}\r\n        />\r\n    );\r\n});","import styled from \"styled-components/macro\";\r\n\r\nexport const Container = styled.div`\r\n  border-radius: 70px;\r\n  border: 3px solid #fff;\r\n  position: absolute;\r\n  top: ${({ top }) => (top - 30) + 'px'};\r\n  left: ${({ left }) => (left - 30) + 'px'};\r\n  display: block;\r\n  width: 120px;\r\n  height: 120px;\r\n  animation: flow 5s ease-out;\r\n  z-index: 2;\r\n  \r\n  &:after{\r\n    content: \"\";\r\n    position: absolute;\r\n    background-color: #fff;\r\n    top: 13px;\r\n    left: 48%;\r\n    height: 50px;\r\n    width: 4px;\r\n    border-radius: 5px;\r\n    -webkit-transform-origin: 50% 97%;\r\n    transform-origin: 50% 97%;\r\n    -webkit-animation: grdAiguille 2s linear infinite;\r\n    animation: grdAiguille 2s linear infinite;\r\n  }\r\n  \r\n  @-webkit-keyframes grdAiguille{\r\n    0%{-webkit-transform:rotate(0deg);}\r\n    100%{-webkit-transform:rotate(360deg);}\r\n  }\r\n\r\n  @keyframes grdAiguille{\r\n    0%{transform:rotate(0deg);}\r\n    100%{transform:rotate(360deg);}\r\n  }\r\n  \r\n  &:before{\r\n    content: \"\";\r\n    position: absolute;\r\n    background-color: #fff;\r\n    top: 24px;\r\n    left: 48%;\r\n    height: 40px;\r\n    width: 4px;\r\n    border-radius: 5px;\r\n    -webkit-transform-origin: 50% 94%;\r\n    transform-origin: 50% 94%;\r\n    -webkit-animation: ptAiguille 12s linear infinite;\r\n    animation: ptAiguille 12s linear infinite;\r\n  }\r\n\r\n  @-webkit-keyframes ptAiguille{\r\n     0%{-webkit-transform:rotate(0deg);}\r\n     100%{-webkit-transform:rotate(360deg);}\r\n  }\r\n\r\n  @keyframes ptAiguille{\r\n     0%{transform:rotate(0deg);}\r\n     100%{transform:rotate(360deg);}   \r\n  }\r\n  \r\n  @keyframes flow{\r\n    0%{background-color: transparent; transform: scale(0, 0)}\r\n    25%{background-color: transparent;}\r\n    100%{background-color: red; transform: scale(1, 1)}\r\n  }\r\n  \r\n  &.stop {\r\n    animation-play-state: paused;\r\n    -webkit-animation-play-state: paused;\r\n    -o-animation-play-state: paused;\r\n    -moz-animation-play-state: paused;\r\n  }\r\n`;\r\n","import React, {useCallback, useEffect, useRef} from 'react'\r\nimport { Container } from './styles';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { gameActions, gameSelectors } from 'store/game';\r\nimport { soundManager } from 'lib/soundManager';\r\nimport { showPopUp } from 'lib/utils';\r\n\r\nexport const TimeEater = React.memo(({ id, ...props }) => {\r\n    const $field = useSelector(gameSelectors.$field);\r\n    const isPaused = useSelector(gameSelectors.isPaused);\r\n    const dispatch = useDispatch();\r\n\r\n    const element = useRef();\r\n\r\n    const timeDown = useCallback((event) => {\r\n        showPopUp({ event, $field, text: '-5sec' });\r\n        dispatch(gameActions.subtractTime(5000));\r\n        dispatch(gameActions.removeElement(id));\r\n        soundManager.playTimeDown();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (isPaused) {\r\n            element.current.classList.add('stop');\r\n        } else {\r\n            element.current.classList.remove('stop');\r\n        }\r\n    }, [isPaused]);\r\n\r\n    return (\r\n        <Container\r\n            onAnimationEnd={timeDown}\r\n            ref={element}\r\n            data-type='timeEaters'\r\n            data-id={id}\r\n            {...props}\r\n        />\r\n    );\r\n});","import styled from 'styled-components/macro';\r\n\r\nconst width = window.innerWidth;\r\n\r\nexport const Container = styled.img`\r\n   position: absolute;\r\n   top: 100px;\r\n   width: 70px;\r\n   height: 50px;\r\n   filter: hue-rotate(0);\r\n   animation: ufo 2s infinite linear, fly 15s;\r\n   z-index: 3;\r\n   \r\n   @keyframes ufo {\r\n     0%{filter: hue-rotate(0deg); transform: rotate(0)}\r\n     25%{transform: rotate(15deg)}\r\n     50%{transform: rotate(0deg)}\r\n     75%{transform: rotate(-15deg)}\r\n     100%{filter: hue-rotate(360deg); transform: rotate(0)}\r\n   }\r\n   \r\n   @keyframes fly {\r\n     0%{left: -100px}\r\n     100%{left: ${width + 'px'}}\r\n   }\r\n   \r\n   &.stop {\r\n    animation-play-state: paused;\r\n    -webkit-animation-play-state: paused;\r\n    -o-animation-play-state: paused;\r\n    -moz-animation-play-state: paused;\r\n  }\r\n`","export default __webpack_public_path__ + \"static/media/UFO.d1670d79.png\";","import React, {useEffect, useRef} from 'react'\r\nimport { Container } from './styles';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { gameSelectors, gameActions } from 'store/game';\r\nimport ufoImg from 'assets/UFO.png';\r\n\r\nexport const UFO = React.memo(({id, ...props}) => {\r\n    const isPaused = useSelector(gameSelectors.isPaused);\r\n    const dispatch = useDispatch();\r\n\r\n    const element = useRef();\r\n\r\n    const handleRemove = () => {\r\n        dispatch(gameActions.removeElement(id));\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (isPaused) {\r\n            element.current.classList.add('stop');\r\n        } else {\r\n            element.current.classList.remove('stop');\r\n        }\r\n    }, [isPaused]);\r\n\r\n    return (\r\n        <Container\r\n            draggable={false}\r\n            src={ufoImg}\r\n            onAnimationEnd={handleRemove}\r\n            ref={element}\r\n            {...props}\r\n            data-type='ufo'\r\n            data-id={id}\r\n        />\r\n    );\r\n});","import {soundManager} from \"lib/soundManager\";\r\nimport { Box, ArmoredBlock, TimeEater, UFO } from \"components/elements\";\r\n\r\nexport const getComponent = () => {\r\n    const selector = Math.floor(Math.random() * 25);\r\n    if (selector < 1) {\r\n        return {Component: UFO, elementsToCreate: 1, points: 10};\r\n    } else if (selector < 4) {\r\n        return {Component: TimeEater, elementsToCreate: 2, points: 2};\r\n    } else if (selector < 7) {\r\n        return {Component: ArmoredBlock, elementsToCreate: 4, points: 5};\r\n    }\r\n    return {Component: Box, elementsToCreate: Math.floor(Math.random() * 5), points: 1};\r\n};\r\n\r\nexport function flash({ event, $field }) {\r\n    const $flash = document.createElement('div');\r\n    $flash.style.top = event.clientY - 25 + \"px\";\r\n    $flash.style.left = event.clientX - 25 + \"px\";\r\n    $flash.classList.add(\"flash\");\r\n    $field.appendChild($flash);\r\n    soundManager.playShoot();\r\n\r\n    setTimeout(() => {\r\n        $field.removeChild($flash);\r\n    }, 1000);\r\n}\r\n\r\nexport const checkPosition = (positions, {top,left}) => {\r\n    return positions.some(position => position.top === top && position.left === left);\r\n}","import React, { useEffect, useRef } from 'react';\r\nimport { Container, PauseScreen, PauseText } from './styles';\r\nimport { getIdGenerator, getOffset, showPopUp } from 'lib/utils';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { gameActions, gameSelectors } from 'store/game';\r\nimport { flash, checkPosition, getComponent } from './utils';\r\nimport { SECONDARY } from 'lib/constants';\r\nimport { soundManager } from 'lib/soundManager';\r\n\r\nconst nextId = getIdGenerator();\r\n\r\nexport const GameField = () => {\r\n    const elements = useSelector(gameSelectors.elements);\r\n    const isPaused = useSelector(gameSelectors.isPaused);\r\n    const gameStatus = useSelector(gameSelectors.gameStatus);\r\n    const dispatch = useDispatch();\r\n\r\n    const fieldRef = useRef(null);\r\n    const {current: $field} = fieldRef;\r\n    const timer = useRef();\r\n    const positions = useRef([]);\r\n\r\n    const handleShot = event => {\r\n        const {type, id} = event.target.dataset;\r\n        if (type) {\r\n            const element = elements.find(el => el.id === id);\r\n            const {elementsToCreate, points} = element;\r\n            dispatch(gameActions.addScore(points));\r\n            dispatch(gameActions.removeElement(id));\r\n            createElements(elementsToCreate);\r\n            flash({event, $field});\r\n            showPopUp({ event, $field, text: `+${points}`, color: SECONDARY });\r\n        } else {\r\n            soundManager.playMiss();\r\n        }\r\n    }\r\n\r\n    const createElements = (amount) => {\r\n        for (let i = 0; i < amount; i++) {\r\n            const top = getOffset($field.clientHeight);\r\n            const left = getOffset($field.clientWidth);\r\n            if (checkPosition(positions.current, {top, left})) {\r\n                i--;\r\n                continue;\r\n            }\r\n            positions.current.push({top, left});\r\n            dispatch(gameActions.addElement({\r\n                ...getComponent(),\r\n                id: nextId(),\r\n                top,\r\n                left\r\n            }));\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        dispatch(gameActions.setField(fieldRef.current));\r\n        return () => clearTimeout(timer.current);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (isPaused) {\r\n            clearTimeout(timer.current);\r\n        } else {\r\n            timer.current = setInterval(() => {\r\n                createElements(1);\r\n            }, 3000);\r\n            fieldRef.current.focus();\r\n        }\r\n    }, [isPaused]);\r\n\r\n    useEffect(() => {\r\n        if (gameStatus.active) {\r\n            createElements(4);\r\n        } else {\r\n            clearTimeout(timer.current);\r\n        }\r\n    }, [gameStatus]);\r\n\r\n    return (\r\n        <Container\r\n            ref={fieldRef}\r\n            onMouseDown={handleShot}\r\n            active={gameStatus.active && !isPaused}\r\n            isPaused={isPaused && gameStatus.active}\r\n        >\r\n            {elements.map(({Component, ...data}) => {\r\n                return (\r\n                    <Component\r\n                        key={data.id}\r\n                        {...data}\r\n                    />\r\n                )\r\n            })}\r\n\r\n            {\r\n                isPaused && gameStatus.active &&\r\n                <PauseScreen>\r\n                    <PauseText>PAUSED</PauseText>\r\n                </PauseScreen>\r\n            }\r\n        </Container>\r\n    )\r\n};","import React from 'react';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Button from '@material-ui/core/Button';\r\nimport { PRIMARY, SECONDARY } from 'lib/constants';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { gameActions, gameSelectors } from 'store/game';\r\nimport { usersSelectors } from 'store/users';\r\nimport {Span} from 'globalStyles';\r\n\r\nexport const GameOverDialog = () => {\r\n    const isGameOver = useSelector(gameSelectors.isGameOver);\r\n    const score = useSelector(gameSelectors.score);\r\n    const { name, hiScore } = useSelector(usersSelectors.user);\r\n    const dispatch = useDispatch();\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        dispatch(gameActions.submitDialog({ name, score }));\r\n        dispatch(gameActions.closeDialog());\r\n    }\r\n\r\n    const handleClose = () => {\r\n        dispatch(gameActions.closeDialog());\r\n    }\r\n\r\n    return (\r\n        <Dialog open={isGameOver} maxWidth='sm'>\r\n            <DialogTitle >GAME OVER</DialogTitle>\r\n            <DialogContent>\r\n                <DialogContentText>\r\n                    Congratulations <Span color={PRIMARY} >{name}</Span>\r\n                    <br/>\r\n                    Your score: <Span color={SECONDARY} >{score}</Span>\r\n                    <br/>\r\n                    Your Hi-score: <Span color={SECONDARY} >{hiScore}</Span>\r\n                </DialogContentText>\r\n                <DialogActions>\r\n                    <Button onClick={handleSubmit} color='secondary' variant='outlined'>\r\n                        SAVE\r\n                    </Button>\r\n                    <Button onClick={handleClose} color='primary' variant='outlined'>\r\n                        CANCEL\r\n                    </Button>\r\n                </DialogActions>\r\n            </DialogContent>\r\n        </Dialog>\r\n    )\r\n}","import styled from 'styled-components/macro';\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  padding: 10px;\r\n  flex-grow: 1;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nexport const Controls = styled.div`\r\n  display: flex;\r\n  flex-wrap: nowrap;\r\n  \r\n  @media (max-width: 1000px) {\r\n    width: 100%;\r\n    justify-content: center;\r\n  }\r\n`;\r\n\r\nexport const Info = styled.div`\r\n  display: flex;\r\n  flex-grow: .6;\r\n  justify-content: space-between;\r\n  flex-wrap: nowrap;\r\n  \r\n  @media (max-width: 1000px) {\r\n    width: 100%;\r\n    justify-content: center;\r\n  }\r\n`;","import React, { useEffect } from 'react';\r\nimport { Container, Controls, Info } from './styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport { Timer, Score } from 'components/game';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { gameActions, gameSelectors } from 'store/game';\r\n\r\nexport const GameUI = () => {\r\n    const { active } = useSelector(gameSelectors.gameStatus);\r\n    const isPaused = useSelector(gameSelectors.isPaused);\r\n    const dispatch = useDispatch();\r\n\r\n    const handleStart = () => {\r\n        dispatch(gameActions.startGame());\r\n    };\r\n    \r\n    const handlePause = () => {\r\n        dispatch(gameActions.pauseGame());\r\n    };\r\n\r\n    const handleKeyDown = event => {\r\n        if (event.code === 'Space' && active) {\r\n            event.preventDefault();\r\n            dispatch(gameActions.pauseGame());\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        document.addEventListener('keydown', handleKeyDown);\r\n        return () => document.removeEventListener('keydown', handleKeyDown);\r\n    }, [active]);\r\n\r\n    return (\r\n        <Container>\r\n            <Controls>\r\n                <Button\r\n                    variant='contained'\r\n                    color='primary'\r\n                    onClick={handlePause}\r\n                    disabled={!active}\r\n                >\r\n                    {isPaused ? 'RESUME' : 'PAUSE'}\r\n                </Button>\r\n                <Button\r\n                    variant='contained'\r\n                    color='secondary'\r\n                    onClick={handleStart}\r\n                >\r\n                    {active ? 'RESTART' : 'NEW GAME'}\r\n                </Button>\r\n            </Controls>\r\n\r\n            <Info>\r\n                <Timer/>\r\n                <Score/>\r\n            </Info>\r\n        </Container>\r\n    )\r\n}","import styled from 'styled-components/macro'\r\nimport {PRIMARY, SECONDARY, SUB} from 'lib/constants';\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  flex-grow: 1;\r\n  overflow-y: auto;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  height: 100%;\r\n`;\r\n\r\nexport const Table = styled.div`\r\n  animation: appear .5s;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`\r\n\r\nexport const Title = styled.h1`\r\n  color: firebrick;\r\n  font-family: DigitalClock, serif;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nexport const SubText = styled.h3`\r\n  opacity: .7;\r\n`;\r\n\r\nexport const Record = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n  padding: 5px 10px;\r\n  color: ${({ active }) => active ? PRIMARY : 'inherit'};\r\n  \r\n  &:first-of-type {\r\n    font-size: 1.2em;\r\n    border-bottom: 1px solid ${() => SUB};\r\n  }\r\n`;\r\n\r\nexport const Name = styled.div`\r\n  opacity: .8;\r\n`;\r\n\r\nexport const Score = styled.div`\r\n  color: ${SECONDARY};\r\n`;","import React, {useEffect, useState} from 'react';\r\nimport {Container, Title, Record, SubText, Name, Score, Table} from './styles';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { gameActions, gameSelectors } from 'store/game';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { wait } from 'lib/utils';\r\nimport {usersSelectors} from 'store/users';\r\n\r\n\r\nexport const ResultsTable = () => {\r\n    const [loading, setLoading] = useState(false);\r\n    const results = useSelector(gameSelectors.results) || [];\r\n    const { name } = useSelector(usersSelectors.user);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(async () => {\r\n        setLoading(true);\r\n        await Promise.all([ wait(1), dispatch(gameActions.getResults()) ]);\r\n        setLoading(false);\r\n\r\n        return () => dispatch(gameActions.setResults([]));\r\n    }, [])\r\n\r\n    if (loading) {\r\n        return (\r\n            <Container>\r\n                <Title>HI-SCORE</Title>\r\n                <CircularProgress size={80}/>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <Title>HI-SCORE</Title>\r\n            <Table>\r\n                {\r\n                    results.length === 0\r\n                        ? <SubText>No results</SubText>\r\n                        : results.map((user, index) => (\r\n                            <Record key={index} active={user.name === name}>\r\n                                <Name>\r\n                                    {user.name}\r\n                                </Name>\r\n                                <Score>\r\n                                    {user.score}\r\n                                </Score>\r\n                            </Record>\r\n                        ))\r\n                }\r\n            </Table>\r\n        </Container>\r\n    )\r\n};","import styled from 'styled-components/macro';\r\nimport {SECONDARY, SUB} from 'lib/constants';\r\n\r\nexport const Container = styled.input`\r\n  outline: none;\r\n  border: none;\r\n  position: relative;\r\n  text-align: center;\r\n  display: flex;\r\n  justify-content: center;\r\n  width: 120px;\r\n  align-items: center;\r\n  font-family: DigitalClock, serif;\r\n  margin: 10px;\r\n  padding: 5px 15px;\r\n  min-width: 100px;\r\n  background-color: ${() => SUB};\r\n  border-radius: 4px;\r\n  font-size: 2rem;\r\n  color: white;\r\n  font-variant-numeric: lining-nums;\r\n  overflow: hidden;\r\n  border: ${({ active }) => active && `2px groove ${SECONDARY}`};\r\n  @media(max-width: 1000px) {\r\n    min-width: 0;\r\n  }\r\n`;","import React, {useEffect, useRef, useState} from 'react';\r\nimport AccessAlarmIcon from '@material-ui/icons/AccessAlarm';\r\nimport { Container } from './styles';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { gameActions, gameSelectors } from 'store/game';\r\nimport { MINUTE } from 'lib/constants';\r\n\r\nexport const Timer = () => {\r\n    const [value, setValue] = useState('');\r\n    const time = useSelector(gameSelectors.time);\r\n    const isPaused = useSelector(gameSelectors.isPaused);\r\n    const { active } = useSelector(gameSelectors.gameStatus);\r\n    const dispatch = useDispatch();\r\n    const minutes = time.getMinutes();\r\n    const seconds = time.getSeconds();\r\n\r\n    const timer = useRef();\r\n\r\n    useEffect(() => {\r\n        setValue(`${minutes < 10 ? `0${minutes}` : minutes}:${seconds < 10 ? `0${seconds}` : seconds}`);\r\n    }, [time]);\r\n\r\n    useEffect(() => {\r\n        return () => clearInterval(timer.current);\r\n    }, [])\r\n\r\n    const validateInput = () => {\r\n        let time;\r\n        if (value.match(/^[0-6][0-9]:[0-6][0-9]$/)) {\r\n            const [ minutes, seconds ] = value.split(':');\r\n            time = (minutes * MINUTE) + (seconds * 1000);\r\n        } else {\r\n            time = MINUTE;\r\n        }\r\n        dispatch(gameActions.setTime(new Date(time)));\r\n    };\r\n\r\n    const handleKeyDown = event => {\r\n        if (event.code === 'Enter') {\r\n            validateInput();\r\n            event.target.blur();\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (isPaused) {\r\n            clearInterval(timer.current);\r\n        } else {\r\n            timer.current = setInterval(() => {\r\n                dispatch(gameActions.countdown());\r\n            }, 1000);\r\n        }\r\n    }, [isPaused]);\r\n\r\n    return (\r\n        <div style={{ display: `flex`, alignItems: 'center'}}>\r\n            <AccessAlarmIcon/>\r\n            <Container\r\n                value={value}\r\n                onChange={event => setValue(event.target.value)}\r\n                onBlur={validateInput}\r\n                onKeyDown={handleKeyDown}\r\n                disabled={!isPaused || !active}\r\n                active={isPaused && active}\r\n            />\r\n        </div>\r\n    )\r\n}","import styled from 'styled-components/macro';\r\nimport {SUB, SECONDARY} from 'lib/constants';\r\n\r\nexport const Container = styled.div`\r\n  font-family: DigitalClock, serif;\r\n  margin: 10px;\r\n  padding: 5px 15px;\r\n  background-color: ${SUB};\r\n  border-radius: 4px;\r\n  color: white;\r\n  font-size: 2rem;\r\n  min-width: 170px;\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-wrap: nowrap;\r\n  @media(max-width: 1000px) {\r\n    min-width: 0;\r\n  }\r\n`;\r\n\r\nexport const Counter = styled.span`\r\n  color: ${SECONDARY};\r\n`;\r\n","import React from 'react';\r\nimport { Container, Counter } from './styles';\r\nimport { useSelector } from 'react-redux';\r\nimport { gameSelectors } from 'store/game';\r\n\r\nexport const Score = () => {\r\n    const score = useSelector(gameSelectors.score);\r\n\r\n    return (\r\n        <Container>\r\n            Score: <Counter>{score}</Counter>\r\n        </Container>\r\n    )\r\n}","import styled from 'styled-components/macro';\r\n\r\nexport const Container = styled.div`\r\n  position: absolute;\r\n  height: 100vh;\r\n  width: 100vw;\r\n  background-color: #00000099;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n`\r\n\r\nexport const Logo = styled.div`\r\n  opacity: .6;\r\n  position: absolute;\r\n  margin: auto;\r\n`","import React, { useState } from \"react\";\r\nimport {Container, Logo} from './styles';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { useSelector } from \"react-redux\";\r\nimport { appSelectors } from \"store/app\";\r\nimport { Title } from 'components/common';\r\n\r\nexport const LoadingOverlay = ({ user }) => {\r\n    const [show, setShow] = useState(!!user);\r\n    const loading = useSelector(appSelectors.loading);\r\n\r\n    return (\r\n        show && <Container\r\n            style={{ animation: `${loading ? null : 'fadeOut .5s linear'}` }}\r\n            onAnimationEnd={() => setShow(false)}\r\n        >\r\n            <Logo>\r\n                <Title/>\r\n            </Logo>\r\n            <CircularProgress size={220}/>\r\n        </Container>\r\n    )\r\n};","import { useDispatch } from \"react-redux\";\r\nimport { usersActions } from \"store/users\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport axios from 'axios';\r\n\r\nexport const useToken = () => {\r\n    const dispatch = useDispatch();\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n        const { expires, ...user } = jwt_decode(token);\r\n        if (new Date(expires) < Date.now()) {\r\n            dispatch(usersActions.logout());\r\n            return;\r\n        }\r\n        axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n        return user;\r\n    }\r\n}","import React from \"react\"\r\nimport { Redirect, Route } from \"react-router-dom\";\r\nimport { useToken } from \"lib/hooks/useToken\";\r\n\r\nexport const AuthRoute = props => {\r\n    const user = useToken();\r\n\r\n    if (user) {\r\n        return <Redirect to='/'/>\r\n    }\r\n\r\n    return (\r\n        <Route { ...props } />\r\n    )\r\n}","import React from \"react\"\r\nimport { Redirect, Route } from \"react-router-dom\";\r\nimport { useToken } from \"lib/hooks/useToken\";\r\n\r\nexport const AdminRoute = props => {\r\n    const user = useToken();\r\n\r\n    if (!user) {\r\n        return <Redirect to='/login'/>\r\n    }\r\n\r\n    if (user.role !== 'admin') {\r\n        return <Redirect to='/'/>\r\n    }\r\n\r\n    return (\r\n        <Route { ...props } />\r\n    )\r\n};","import React from \"react\"\r\nimport { Redirect, Route } from \"react-router-dom\";\r\nimport { useToken } from \"lib/hooks/useToken\";\r\n\r\nexport const ProtectedRoute = props => {\r\n    const user = useToken();\r\n\r\n    if (!user) {\r\n        return <Redirect to='/login'/>\r\n    }\r\n\r\n    return (\r\n        <Route { ...props } />\r\n    )\r\n};","import styled from \"styled-components/macro\";\r\nimport {PRIMARY, SECONDARY} from \"lib/constants\";\r\n\r\nexport const Container = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100%;\r\n    height: 100%;\r\n`;\r\n\r\nexport const Content = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 10px;\r\n`;\r\n\r\nexport const Img = styled.img`\r\n    width: 100px;\r\n    height: 100px;\r\n`;\r\n\r\nexport const H1 = styled.h1`\r\n    font-size: 5rem;\r\n    font-family: 'Kelly Slab', sans-serif;\r\n    color: ${SECONDARY};\r\n    text-shadow: -4px 4px 2px #000000aa;\r\n`;\r\n\r\nexport const H2 = styled.h2`\r\n    color: ${PRIMARY};\r\n    padding: 5px;\r\n`;","export default __webpack_public_path__ + \"static/media/404.2a1e5eac.png\";","import React from \"react\";\r\nimport { Container, Content, Img, H1, H2 } from \"./styles\";\r\nimport image404 from 'assets/404.png'\r\nimport { NavLink } from \"react-router-dom\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nexport const Component404 = () => {\r\n    return (\r\n        <Container>\r\n            <Content>\r\n                <Img src={ image404 } alt=\"404\"/>\r\n                <H1>\r\n                    404\r\n                </H1>\r\n            </Content>\r\n            <H2>\r\n                Oooops, no page found!\r\n            </H2>\r\n\r\n            <NavLink to='/'>\r\n                <Button variant='contained' color='primary'>\r\n                    Game\r\n                </Button>\r\n            </NavLink>\r\n        </Container>\r\n    )\r\n}","import styled from 'styled-components/macro';\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 10px;\r\n`;\r\n\r\nexport const Logo = styled.img`\r\n  width: 160px;\r\n  height: 160px;\r\n  object-fit: contain;\r\n  cursor: pointer;\r\n`;","export default __webpack_public_path__ + \"static/media/logo.6a96b6a5.png\";","import React from 'react';\r\nimport { Container, Logo } from \"./styles\";\r\nimport logo from 'assets/logo.png';\r\nimport { GITHUB } from \"lib/constants\";\r\n\r\nexport const Title = () => {\r\n    return (\r\n        <Container>\r\n            <a href={ GITHUB } target=\"_blank\" rel=\"noreferrer\">\r\n                <Logo src={ logo } alt=\"\"/>\r\n            </a>\r\n        </Container>\r\n    )\r\n};","import styled from 'styled-components/macro';\r\nimport {SUB} from 'lib/constants';\r\n\r\nexport const Container = styled.div`\r\n  position: absolute;\r\n  top: 5%;\r\n  left: 5%;\r\n  width: 90%;\r\n  height: 90%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 10px;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: ${SUB};\r\n  border-radius: 30px;\r\n  border: 2px solid burlywood;\r\n  animation: fromCenter .5s ease-out;\r\n  \r\n  @keyframes fromCenter {\r\n    0%{transform: scale(0, 0)}\r\n    60%{transform: scale(1.3, 1.3)}\r\n    100%{transform: scale(1, 1)}\r\n  }\r\n`\r\n\r\nexport const Toggle = styled.div`\r\n  position: absolute;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 30px;\r\n  height: 30px;\r\n  right: 10px;\r\n  top: 10px;\r\n  padding: 3px;\r\n  z-index: 1;\r\n  cursor: pointer;\r\n  \r\n  @media(max-width: 1000px) {\r\n    right: 35px;\r\n  }\r\n  \r\n`","import React, {useState} from \"react\"\r\nimport { Container, Toggle } from './styles';\r\nimport AssignmentIcon from '@material-ui/icons/Assignment';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { soundManager } from 'lib/soundManager';\r\n\r\nexport const Rules = () => {\r\n    const [open, setOpen] = useState(false);\r\n\r\n    const handleClick = () => {\r\n        if (!open) {\r\n            soundManager.playPopup();\r\n        }\r\n        setOpen(!open)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Toggle onClick={handleClick}>\r\n                {open ? <CloseIcon/> : <AssignmentIcon/>}\r\n            </Toggle>\r\n\r\n            {\r\n                open && <Container>\r\n                    <h1>Game Rules</h1>\r\n                    <p>Simple clicker game, hit as many boxes as you can during one minute.</p>\r\n                    <br/>\r\n                    <p>Controls:</p>\r\n                    <ul>\r\n                        <li>L-Click - destroy box</li>\r\n                        <li>SPACE to pause</li>\r\n                        <li>Clocks subtract 5s if not destroyed in time</li>\r\n                        <li>Armored blockes absorb up to 4 hits</li>\r\n                        <li>UFO gives a lot of points</li>\r\n                    </ul>\r\n                    <br/>\r\n                    <p>Cheat:</p>\r\n                    <p>edit time while game is paused</p>\r\n                </Container>\r\n            }\r\n        </>\r\n    )\r\n}","import styled from 'styled-components/macro';\r\n\r\nexport const Form = styled.form`\r\n  width: 300px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n","import { useFormik } from 'formik';\r\nimport React, { useState } from 'react';\r\nimport { Form } from '../commonStyles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport LockOpenIcon from '@material-ui/icons/LockOpen';\r\nimport Button from '@material-ui/core/Button';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { usersActions } from 'store/users';\r\nimport { usersApi } from 'api';\r\nimport {Span} from 'globalStyles';\r\n\r\nexport const LoginForm = () => {\r\n    const [loading, setLoading] = useState(false);\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n\r\n    const { handleSubmit, handleChange, handleBlur, values, errors, setErrors, touched } = useFormik({\r\n        initialValues: {\r\n            login: '',\r\n            password: ''\r\n        },\r\n        onSubmit: async (values) => {\r\n            setLoading(true);\r\n            const { user, token, errors } = await usersApi.login(values);\r\n            setLoading(false);\r\n\r\n            if (errors) {\r\n                setErrors(errors);\r\n            } else {\r\n                dispatch(usersActions.setUser(user));\r\n                localStorage.setItem('token', token);\r\n                history.push('/');\r\n            }\r\n        }\r\n    })\r\n\r\n    return (\r\n        <Form onSubmit={handleSubmit}>\r\n            <TextField id='login' name='login' type='text' label='Login'\r\n                 required={true}\r\n                 fullWidth\r\n                 value={values.login}\r\n                 onChange={handleChange}\r\n                 onBlur={handleBlur}\r\n                 helperText={touched.login && errors.login}\r\n                 error={!!(errors.login && touched.login)}\r\n            />\r\n            <TextField id='password' name='password' type='password' label='Password' autoComplete=\"off\"\r\n                 required={true}\r\n                 fullWidth\r\n                 value={values.password}\r\n                 onChange={handleChange}\r\n                 onBlur={handleBlur}\r\n                 helperText={touched.password && errors.password}\r\n                 error={!!(errors.password && touched.password)}\r\n            />\r\n            <Button\r\n                type='submit'\r\n                color='secondary'\r\n                variant='contained'\r\n                disabled={loading}\r\n            >\r\n                <LockOpenIcon/>\r\n                <Span>Login</Span>\r\n                {loading\r\n                    ? <CircularProgress className='loader' size={30} />\r\n                    : null}\r\n            </Button>\r\n        </Form>\r\n    )\r\n}","import { useFormik } from 'formik';\r\nimport React, { useState } from 'react';\r\nimport { Form } from '../commonStyles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport TagFacesIcon from '@material-ui/icons/TagFaces';\r\nimport Button from '@material-ui/core/Button';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useDispatch}  from 'react-redux';\r\nimport { usersActions } from 'store/users';\r\nimport { usersApi } from 'api';\r\nimport {Span} from '../../../globalStyles';\r\n\r\nexport const RegistrationForm = () => {\r\n    const [loading, setLoading] = useState(false);\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n\r\n    const { handleSubmit, handleChange, handleBlur, values, errors, setErrors, touched } = useFormik({\r\n        initialValues: {\r\n            login: '',\r\n            name: '',\r\n            password: '',\r\n            confirmPassword: ''\r\n        },\r\n        onSubmit: async (values) => {\r\n            setLoading(true);\r\n            const { user, token, errors } = await usersApi.register(values);\r\n            setLoading(false);\r\n\r\n            if (errors) {\r\n                setErrors(errors);\r\n                values.password = '';\r\n                values.confirmPassword = '';\r\n            } else {\r\n                dispatch(usersActions.setUser(user));\r\n                localStorage.setItem('token', token);\r\n                history.push('/');\r\n            }\r\n        }\r\n    })\r\n\r\n    return (\r\n        <Form onSubmit={handleSubmit}>\r\n            <TextField id='login' name='login' type='text' label='Login'\r\n                       required={true}\r\n                       fullWidth\r\n                       value={values.login}\r\n                       onChange={handleChange}\r\n                       onBlur={handleBlur}\r\n                       helperText={touched.login && errors.login}\r\n                       error={!!(errors.login && touched.login)}\r\n            />\r\n            <TextField id='name' name='name' type='text' label='Name'\r\n                       required={true}\r\n                       fullWidth\r\n                       value={values.name}\r\n                       onChange={handleChange}\r\n                       onBlur={handleBlur}\r\n                       helperText={touched.name && errors.name}\r\n                       error={!!(errors.name && touched.name)}\r\n            />\r\n            <TextField id='password' name='password' type='password' label='Password'\r\n                       autoComplete=\"off\"\r\n                       required={true}\r\n                       fullWidth\r\n                       value={values.password}\r\n                       onChange={handleChange}\r\n                       onBlur={handleBlur}\r\n                       helperText={touched.password && errors.password}\r\n                       error={!!(errors.password && touched.password)}\r\n            />\r\n            <TextField id='confirmPassword' name='confirmPassword' type='password'\r\n                       label='Confirm password'\r\n                       autoComplete=\"off\"\r\n                       required={true}\r\n                       fullWidth\r\n                       value={values.confirmPassword}\r\n                       onChange={handleChange}\r\n                       onBlur={handleBlur}\r\n                       helperText={touched.confirmPassword && errors.confirmPassword}\r\n                       error={!!(errors.confirmPassword && touched.confirmPassword)}\r\n            />\r\n            <Button\r\n                type='submit'\r\n                color='secondary'\r\n                variant='contained'\r\n                disabled={loading}\r\n            >\r\n                <TagFacesIcon/>\r\n                <Span>\r\n                    Register\r\n                </Span>\r\n                {loading\r\n                    ? <CircularProgress className='loader' size={30} />\r\n                    : null}\r\n            </Button>\r\n        </Form>\r\n    )\r\n}","import styled from 'styled-components/macro';\r\nimport { SUB } from 'lib/constants';\r\n\r\nexport const Container = styled.div`\r\n  border-top: 1px ridge ${SUB};\r\n  padding: 10px;\r\n`\r\n\r\nexport const Controls = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n`","import React from \"react\"\r\nimport { Container, Controls } from \"./styles\";\r\nimport { Span } from \"globalStyles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport AdminIcon from '@material-ui/icons/AccountCircle';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { usersActions, usersSelectors } from \"store/users\";\r\nimport { PRIMARY, SECONDARY } from \"lib/constants\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\n\r\nexport const UserCard = () => {\r\n    const { name, hiScore, role } = useSelector(usersSelectors.user);\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n\r\n    const logout = async () => {\r\n        dispatch(usersActions.logout(history));\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <Typography>\r\n                Name:\r\n                <Span color={PRIMARY} weight={600}>\r\n                    {name || '-'}\r\n                </Span>\r\n            </Typography>\r\n            <Typography>\r\n                Hi-score:\r\n                <Span color={SECONDARY} weight={600}>\r\n                    {hiScore || 0}\r\n                </Span>\r\n            </Typography>\r\n            <Controls>\r\n                <NavLink to={'/admin'} className={role !== 'admin' ? 'disabled' : ''}>\r\n                    <Button\r\n                        color='primary'\r\n                        size='small'\r\n                        variant='contained'\r\n                    >\r\n                        <AdminIcon/> <Span>Admin</Span>\r\n                    </Button>\r\n                </NavLink>\r\n                <Button\r\n                    color='secondary'\r\n                    size='small'\r\n                    variant='contained'\r\n                    onClick={logout}\r\n                >\r\n                    <ExitToAppIcon/> <Span>Logout</Span>\r\n                </Button>\r\n            </Controls>\r\n        </Container>\r\n    )\r\n}","import styled from 'styled-components/macro';\r\nimport {SECONDARY} from 'lib/constants';\r\n\r\nexport const Form = styled.form`\r\n  display: flex;\r\n  align-items: center;\r\n`\r\n\r\nexport const Button = styled.button`\r\n  background-color: transparent;\r\n  outline: none;\r\n  margin-left: -20px;\r\n  border: none;\r\n  color: ${SECONDARY};\r\n  opacity: .6;\r\n  cursor: pointer;\r\n`","import { useFormik } from 'formik';\r\nimport React from 'react';\r\nimport { Form, Button } from './styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport { useDispatch } from 'react-redux';\r\nimport { usersActions } from 'store/users';\r\n\r\nexport const SearchForm = () => {\r\n    const dispatch = useDispatch();\r\n\r\n    const { handleSubmit, handleChange, values } = useFormik({\r\n        initialValues: {\r\n            search: '',\r\n        },\r\n        onSubmit: async ({ search }) => {\r\n            dispatch(usersActions.setSearch(search));\r\n        }\r\n    })\r\n\r\n    return (\r\n        <Form onSubmit={handleSubmit}>\r\n            <TextField id='search' name='search' type='text' label='search'\r\n                       fullWidth\r\n                       value={values.search}\r\n                       onChange={handleChange}\r\n            />\r\n            <Button>\r\n                <SearchIcon/>\r\n            </Button>\r\n        </Form>\r\n    )\r\n}","import styled from 'styled-components/macro';\r\nimport {PRIMARY, SECONDARY} from 'lib/constants';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nexport const Container = styled.div`\r\n  min-height: 300px;\r\n  position: relative;\r\n`\r\n\r\nexport const Table = styled.table`\r\n  border-collapse: collapse;\r\n  min-width: 800px;\r\n  @media(max-width: 1000px) {\r\n    min-width: 300px;\r\n  }\r\n`\r\n\r\nexport const Header = styled.thead`\r\n  text-align: center;\r\n  box-sizing: border-box;\r\n  & td {\r\n    border: 1px solid ${SECONDARY};\r\n  }\r\n  & div {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-evenly;\r\n  }\r\n`\r\n\r\nexport const Body = styled.tbody`\r\n  \r\n`\r\n\r\nexport const TR = styled.tr`\r\n  line-height: 2rem;\r\n  color: ${({ currentUser }) => currentUser ? PRIMARY : 'inherit'};\r\n`\r\n\r\nexport const TD = styled.td`\r\n  padding: 0 10px;\r\n  border: 1px solid #0099cc99;\r\n  transition: background-color .2s;\r\n  &:hover {\r\n    cursor: ${({ sortable }) => sortable ? 'pointer' : 'initial'};\r\n    background-color: ${({ sortable }) => sortable ? '#0099cc99' : 'initial'};\r\n   \r\n  }\r\n`\r\n\r\nexport const Select = styled.select`\r\n  background: transparent;\r\n  outline: none;\r\n  border: none;\r\n  color: ${({ admin }) => admin ? 'gold' : 'white'};\r\n  & option {\r\n    color: black;\r\n  }\r\n`\r\n\r\nexport const Loader = styled(CircularProgress)`\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  margin-top: -60px;\r\n  margin-left: -60px;\r\n  opacity: .5;\r\n`\r\nexport const Back = styled.div`\r\n  position: fixed;\r\n  top: 10px;\r\n  right: 10px;\r\n`\r\n","import { useDispatch } from 'react-redux';\r\nimport { usersActions } from 'store/users';\r\nimport { Select } from './styles';\r\nimport React from 'react';\r\n\r\nexport const RoleSelect = ({ user, currentUser }) => {\r\n    const isCurrentUser = user._id === currentUser._id;\r\n    const isAdmin = user.role === 'admin';\r\n    const dispatch = useDispatch();\r\n\r\n    const changeRole = event => {\r\n        dispatch(usersActions.changeRole({\r\n            login: user.login,\r\n            key: 'role',\r\n            value: event.target.value\r\n        }))\r\n    }\r\n\r\n    return (\r\n        <Select\r\n            admin={isAdmin}\r\n            disabled={isCurrentUser}\r\n            onChange={changeRole}\r\n            defaultValue={isAdmin ? 'admin' : 'player'}\r\n        >\r\n            <option>player</option>\r\n            <option>admin</option>\r\n        </Select>\r\n    )\r\n}","import React, {useState} from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { usersActions } from 'store/users';\r\nimport { TD } from './styles';\r\nimport ImportExportIcon from '@material-ui/icons/ImportExport';\r\n\r\nexport const Category = ({ name, value, sortable }) => {\r\n    const [descending, setDescending] = useState(true);\r\n    const dispatch = useDispatch();\r\n\r\n    const clickHandler = () => {\r\n        dispatch(usersActions.setSort({ [value]: descending ? -1 : 1 }));\r\n        setDescending(!descending);\r\n    }\r\n\r\n    return (\r\n        <TD\r\n            sortable={sortable}\r\n            onClick={sortable && clickHandler}\r\n        >\r\n            <div>\r\n                {name}\r\n                {sortable && <ImportExportIcon/>}\r\n            </div>\r\n        </TD>\r\n    )\r\n}","import React, {useEffect, useState} from \"react\"\r\nimport {Header, Table, TR, TD, Body, Container, Loader, Back} from './styles';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { usersActions, usersSelectors } from 'store/users';\r\nimport { RoleSelect } from './RoleSelect';\r\nimport { Category } from './Category';\r\nimport Button from '@material-ui/core/Button';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport {NavLink} from 'react-router-dom';\r\nimport { Span } from 'globalStyles';\r\n\r\nexport const UsersTable = () => {\r\n    const [loading, setLoading] = useState(false);\r\n    const page = useSelector(usersSelectors.page);\r\n    const sortParams = useSelector(usersSelectors.sortParams);\r\n    const search = useSelector(usersSelectors.search);\r\n    const currentUser = useSelector(usersSelectors.user);\r\n    const users = useSelector(usersSelectors.users);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(async () => {\r\n        setLoading(true);\r\n        await dispatch(usersActions.getUsers());\r\n        setLoading(false);\r\n    }, [page, sortParams, search]);\r\n\r\n    return (\r\n        <Container>\r\n            {loading && <Loader size={120}/>}\r\n            <Table>\r\n                <Header>\r\n                    <TR>\r\n                        <Category name={'Id'}/>\r\n                        <Category sortable={true} name={'Login'} value={'login'} />\r\n                        <Category sortable={true} name={'Name'} value={'name'}/>\r\n                        <Category sortable={true} name={'Hi-score'} value={'hiScore'}/>\r\n                        <Category sortable={true} name={'Games Played'} value={'gamesPlayed'}/>\r\n                        <Category name={'Role'} value={'role'}/>\r\n                        <Category name={'User ip'} value={'userIp'}/>\r\n                    </TR>\r\n                </Header>\r\n                <Body>\r\n                    {\r\n                        users.map(user => {\r\n                            const isCurrentUser = user._id === currentUser._id;\r\n                            return (\r\n                                <TR key={ user._id } currentUser={isCurrentUser}>\r\n                                    <TD>{ user._id }</TD>\r\n                                    <TD>{ user.login }</TD>\r\n                                    <TD>{ user.name }</TD>\r\n                                    <TD>{ user.hiScore }</TD>\r\n                                    <TD>{ user.gamesPlayed }</TD>\r\n                                    <TD>\r\n                                        <RoleSelect user={user} currentUser={currentUser}/>\r\n                                    </TD>\r\n                                    <TD>{ user.userIp }</TD>\r\n                                </TR>\r\n                            )\r\n                        })\r\n                    }\r\n                </Body>\r\n            </Table>\r\n            <Back>\r\n                <NavLink to='/'>\r\n                    <Button variant='outlined' color='primary'>\r\n                        <ArrowBackIcon/>\r\n                        <Span>Back</Span>\r\n                    </Button>\r\n                </NavLink>\r\n            </Back>\r\n        </Container>\r\n    )\r\n}\r\n\r\n","import styled from 'styled-components/macro';\r\nimport {Button} from '@material-ui/core';\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nexport const Arrow = styled(Button)`\r\n  min-width: 0;\r\n`","import React from \"react\"\r\nimport {Arrow, Container} from './styles';\r\nimport KeyboardArrowRightIcon from '@material-ui/icons/KeyboardArrowRight';\r\nimport KeyboardArrowLeftIcon from '@material-ui/icons/KeyboardArrowLeft';\r\nimport LastPageIcon from '@material-ui/icons/LastPage';\r\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {usersActions, usersSelectors} from 'store/users';\r\nimport {Span} from 'globalStyles';\r\nimport {PRIMARY} from 'lib/constants';\r\n\r\nexport const Pagination = () => {\r\n    const page = useSelector(usersSelectors.page);\r\n    const pageSize = useSelector(usersSelectors.pageSize);\r\n    const totalUserCount = useSelector(usersSelectors.totalUserCount);\r\n    const dispatch = useDispatch();\r\n\r\n    const lastPage = Math.ceil(totalUserCount / pageSize);\r\n\r\n    const changePage = event => {\r\n        const { type } = event.currentTarget.dataset;\r\n        switch (type) {\r\n            case 'first': {\r\n                dispatch(usersActions.setPage(1));\r\n                break;\r\n            }\r\n            case 'previous': {\r\n                dispatch(usersActions.setPage(page - 1));\r\n                break;\r\n            }\r\n            case 'next': {\r\n                dispatch(usersActions.setPage(page + 1));\r\n                break;\r\n            }\r\n            case 'last': {\r\n                dispatch(usersActions.setPage(lastPage));\r\n                break;\r\n            }\r\n            default: dispatch(usersActions.setPage(1));\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <Arrow\r\n                variant='contained'\r\n                color='secondary'\r\n                onClick={changePage}\r\n                data-type='first'\r\n                disabled={page === 1}\r\n            >\r\n                <FirstPageIcon/>\r\n            </Arrow>\r\n            <Arrow\r\n                variant='contained'\r\n                color='secondary'\r\n                onClick={changePage}\r\n                data-type='previous'\r\n                disabled={page === 1}\r\n            >\r\n                <KeyboardArrowLeftIcon/>\r\n            </Arrow>\r\n            <Span color={PRIMARY} weight={700}>\r\n                {page}\r\n            </Span>\r\n            <Arrow\r\n                variant='contained'\r\n                color='secondary'\r\n                onClick={changePage}\r\n                data-type='next'\r\n                disabled={page === lastPage}\r\n            >\r\n                <KeyboardArrowRightIcon/>\r\n            </Arrow>\r\n            <Arrow\r\n                variant='contained'\r\n                color='secondary'\r\n                onClick={changePage}\r\n                data-type='last'\r\n                disabled={page === lastPage}\r\n            >\r\n                <LastPageIcon/>\r\n            </Arrow>\r\n        </Container>\r\n    )\r\n}","import styled from 'styled-components/macro'\r\nimport {BACKGROUND} from \"lib/constants\";\r\n\r\nexport const Container = styled.div`\r\n  padding: 10px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 300px;\r\n  \r\n  @media (max-width: 1000px) {\r\n    display: none;\r\n    position: absolute;\r\n    justify-content: center;\r\n    padding: 10px 20px;\r\n    background-color: ${BACKGROUND};\r\n    width: 100vw;\r\n    height: 100vh;\r\n    z-index: 10;\r\n    \r\n    &.show {\r\n      display: flex;\r\n      right: 0;\r\n      animation: sidebar .5s;\r\n    }\r\n    \r\n    @keyframes sidebar {\r\n      0% {right: -1000px}\r\n      100% {right: 0}\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Toggle = styled.div`\r\n  display: none;\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n  width: 30px;\r\n  height: 30px;\r\n  font-size: 1.5em;\r\n  \r\n  @media (max-width: 1000px) {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    cursor: pointer;\r\n    z-index: 1000;\r\n  }\r\n`","import React, {useRef, useState} from 'react'\r\nimport { Container, Toggle } from \"./styles\";\r\nimport MenuOpenIcon from '@material-ui/icons/MenuOpen';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nexport const Sidebar = ({children}) => {\r\n    const [open, setOpen] = useState(false);\r\n    const ref = useRef();\r\n\r\n    const toggle = () => {\r\n        ref.current.classList.toggle('show');\r\n        setOpen(!open);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Toggle onClick={toggle}>\r\n                {\r\n                    open ? <CloseIcon/> : <MenuOpenIcon/>\r\n                }\r\n            </Toggle>\r\n            <Container ref={ref}>\r\n                { children }\r\n            </Container>\r\n        </>\r\n\r\n    )\r\n};","import styled from 'styled-components/macro'\r\n\r\nexport const Container = styled.div`\r\n  padding: 0 0 20px 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-grow: 1;\r\n  \r\n  @media (max-width: 1000px) {\r\n    padding: 0 10px 10px 10px;\r\n  }\r\n`","import React from 'react';\r\nimport { Container } from \"./styles\";\r\n\r\nexport const GameWindow = ({children, ...props}) => {\r\n    return (\r\n        <Container { ...props }>\r\n            {children}\r\n        </Container>\r\n    )\r\n}","import styled from \"styled-components/macro\";\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  padding: 0;\r\n  overflow: hidden;\r\n`\r\n","import React from \"react\"\r\nimport { Container } from \"./styles\";\r\n\r\nexport const Layout = ({ children, ...props }) => {\r\n    return (\r\n        <Container { ...props }>\r\n            { children }\r\n        </Container>\r\n    )\r\n}","import React, {useEffect} from 'react';\r\nimport { GameUI, GameField, ResultsTable, GameOverDialog } from \"components/game\";\r\nimport { Rules, Title } from \"components/common\";\r\nimport { UserCard } from \"components/users\";\r\nimport { GameWindow, Layout, Sidebar } from \"containers\";\r\nimport { useDispatch } from 'react-redux';\r\nimport { gameActions } from 'store/game';\r\n\r\nexport function GamePage() {\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        return () => dispatch(gameActions.clearGame());\r\n    }, [])\r\n\r\n    return (\r\n        <Layout>\r\n            <GameWindow>\r\n                <GameUI/>\r\n                <GameField/>\r\n            </GameWindow>\r\n            <Sidebar>\r\n                <Title/>\r\n                <ResultsTable/>\r\n                <UserCard/>\r\n            </Sidebar>\r\n            <GameOverDialog/>\r\n            <Rules/>\r\n        </Layout>\r\n    );\r\n}","import React from \"react\"\r\nimport { Component404 } from \"components/common\";\r\nimport { Layout } from 'containers/Layout';\r\nimport { Column } from 'globalStyles';\r\n\r\nexport const Page404 = () => {\r\n    return (\r\n        <Layout>\r\n            <Column>\r\n                <Component404/>\r\n            </Column>\r\n        </Layout>\r\n    )\r\n}","import React from \"react\"\r\nimport { Title } from \"components/common\";\r\nimport { LoginForm } from \"components/users\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { Layout } from 'containers/Layout';\r\nimport { Column } from 'globalStyles';\r\n\r\nexport const LoginPage = () => {\r\n    return (\r\n        <Layout>\r\n            <Column>\r\n                <Title/>\r\n                <LoginForm/>\r\n                <Typography>\r\n                    New user?\r\n                    <NavLink to=\"/registration\">\r\n                        <Typography\r\n                            color='primary'\r\n                            component='span'\r\n                            style={{ marginLeft: 10 }}\r\n                        >\r\n                            Registration\r\n                        </Typography>\r\n                    </NavLink>\r\n                </Typography>\r\n            </Column>\r\n        </Layout>\r\n    )\r\n}","import React from \"react\"\r\nimport { Title } from \"components/common\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { RegistrationForm } from \"components/users\";\r\nimport { Layout } from 'containers/Layout';\r\nimport { Column } from 'globalStyles';\r\n\r\nexport const RegistrationPage = () => {\r\n    return (\r\n        <Layout>\r\n            <Column>\r\n                <Title/>\r\n                <RegistrationForm/>\r\n                <Typography>\r\n                    Already have an account?\r\n                    <NavLink to=\"/login\">\r\n                        <Typography\r\n                            color='primary'\r\n                            component='span'\r\n                            style={{ marginLeft: 10 }}\r\n                        >\r\n                            Login\r\n                        </Typography>\r\n                    </NavLink>\r\n                </Typography>\r\n            </Column>\r\n        </Layout>\r\n    )\r\n}","import React, {useEffect} from \"react\"\r\nimport { Layout } from 'containers/Layout';\r\nimport { Column } from 'globalStyles';\r\nimport {Pagination, SearchForm, UsersTable} from 'components/users';\r\nimport { useDispatch } from 'react-redux';\r\nimport { usersActions } from 'store/users';\r\n\r\nexport const AdminPage = () => {\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        return () => dispatch(usersActions.clearUsers());\r\n    }, [])\r\n\r\n    return (\r\n        <Layout>\r\n            <Column>\r\n                <h1>ADMIN PANEL</h1>\r\n                <SearchForm/>\r\n                <UsersTable/>\r\n                <Pagination/>\r\n            </Column>\r\n        </Layout>\r\n    )\r\n}","import React, { useLayoutEffect } from 'react';\r\nimport { AdminPage, GamePage, LoginPage, Page404, RegistrationPage} from \"pages\";\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport { AdminRoute, AuthRoute, ProtectedRoute } from \"components/common\";\r\nimport { useToken } from \"./lib/hooks/useToken\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { appActions } from \"store/app\";\r\nimport { LoadingOverlay } from \"components/common\";\r\nimport { useError } from './lib/hooks/useError';\r\n\r\nexport function App() {\r\n    const dispatch = useDispatch();\r\n    const user = useToken();\r\n    const { errorModal } = useError();\r\n\r\n    useLayoutEffect(() => {\r\n        if (user) {\r\n            const init = async () => {\r\n                dispatch(appActions.initializeApp());\r\n            }\r\n            init();\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            {errorModal}\r\n            {<LoadingOverlay user={user}/>}\r\n            <Switch>\r\n                <ProtectedRoute exact path='/' component={GamePage}/>\r\n                <AuthRoute exact path='/login' component={LoginPage}/>\r\n                <AuthRoute exact path='/registration' component={RegistrationPage}/>\r\n                <AdminRoute exact path='/admin' component={AdminPage}/>\r\n                <Route path='*' component={Page404}/>\r\n            </Switch>\r\n        </>\r\n\r\n    );\r\n}\r\n","import React from 'react';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Button from '@material-ui/core/Button';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {appActions, appSelectors} from 'store/app';\r\n\r\nexport const useError = () => {\r\n    const error = useSelector(appSelectors.error);\r\n    const dispatch = useDispatch();\r\n\r\n    const closeModal = () => {\r\n        dispatch(appActions.setError(false));\r\n    }\r\n\r\n    const errorModal = (\r\n        <Dialog open={error} fullWidth>\r\n            <DialogTitle style={{ color: 'red' }}>\r\n                { error.type }\r\n            </DialogTitle>\r\n            <DialogContent>\r\n                <DialogContentText align='center'>\r\n                    { error.message }\r\n                </DialogContentText>\r\n                <DialogActions>\r\n                    <Button onClick={closeModal} color='primary' variant='outlined'>\r\n                        CANCEL\r\n                    </Button>\r\n                </DialogActions>\r\n            </DialogContent>\r\n        </Dialog>\r\n    )\r\n\r\n    return { errorModal };\r\n}","import {createMuiTheme} from '@material-ui/core/styles';\r\nimport {PRIMARY, SECONDARY} from \"./constants\";\r\n\r\nexport const theme = createMuiTheme({\r\n    palette: {\r\n        type: `dark`,\r\n        primary: {\r\n            main: PRIMARY,\r\n        },\r\n        secondary: {\r\n            main: SECONDARY,\r\n        },\r\n        action: {\r\n            disabledBackground: 'rgba(100, 100, 100, .5)',\r\n            disabled: 'white'\r\n        },\r\n        background: {\r\n            paper: `#182533`\r\n        },\r\n    },\r\n\r\n    overrides: {\r\n        MuiButton: {\r\n            root: {\r\n                position: \"relative\",\r\n                fontWeight: `bold`,\r\n                margin: `10px`,\r\n                fontFamily: `DigitalClock, serif`,\r\n                fontSize: '1.5rem',\r\n                minWidth: 130,\r\n                disabled: {\r\n                    opacity: .6\r\n                },\r\n                ['@media(max-width: 1000px)']: {\r\n                    padding: '0 10px',\r\n                    minWidth: 0\r\n                }\r\n\r\n            },\r\n            sizeSmall: {\r\n                minWidth: \"initial\",\r\n                padding: `0 10px`,\r\n                fontSize: `18px`\r\n            }\r\n        },\r\n        MuiTextField: {\r\n            root: {\r\n                marginBottom: 20\r\n            }\r\n        },\r\n        MuiDialogTitle: {\r\n            root: {\r\n                textAlign: 'center'\r\n            }\r\n        }\r\n    }\r\n});","import {createStore, applyMiddleware, combineReducers} from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport {appReducer} from \"./app\";\r\nimport {gameReducer} from \"./game\";\r\nimport {usersReducer} from \"./users\";\r\n\r\nconst rootReducer = combineReducers({\r\n    app: appReducer,\r\n    game: gameReducer,\r\n    users: usersReducer\r\n})\r\n\r\nexport const store = createStore(rootReducer, applyMiddleware(thunk));","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport GlobalStyle from './globalStyles';\r\nimport { App } from './App';\r\nimport { MuiThemeProvider } from '@material-ui/core';\r\nimport { theme } from './lib/theme';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport { store } from './store';\r\n\r\nReactDOM.render(\r\n    <>\r\n        <GlobalStyle/>\r\n        <MuiThemeProvider theme={theme}>\r\n            <Provider store={store}>\r\n                <BrowserRouter>\r\n                    <App/>\r\n                </BrowserRouter>\r\n            </Provider>\r\n        </MuiThemeProvider>\r\n    </>\r\n    , document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}